## Persistence Seminar 01
Do not forget to checkout fresh version of branch seminar-persistence1 from *upstream* (repository with url https://github.com/fi-muni/PA165.git):

```
git fetch upstream
git checkout -b seminar-persistence1 upstream/seminar-persistence1
```

If the repository https://github.com/fi-muni/PA165.git is not configured as *upstream*, but as *origin*, just replace string *upstream* with string *origin*. 

If the local branch seminar-persistence1 already exists, reset its content to fresh version of branch seminar-persistence1 from upstream:

```
git fetch upstream
git checkout seminar-persistence1
git reset --hard upstream/seminar-persistence1
```

Do not work in master! After you checkout the branch, you should see the following files: 

```
~/PA165$ ls
eshop-parent.iml  eshop-persistence  pom.xml  README.md  tasks
```

If you see more files, you may have some untracked changes, you can always remove those by issuing:

```
git clean -df
```

Open the parent pom.xml `PA165/pom.xml`, that should open a multimodule project with exactly one child module `eshop-persistence` in your IDE. In this seminar, you will work with in-memory database and just one Main Class (MainJavaSe.java). You will be asked to implement parts of methods. Then you will run the method by modifying the Main method. For example if I you want to try method corresponding to **task04**, then you will modify the main method this way:
  ```java
		emf = Persistence.createEntityManagerFactory("javaSeUnit");
		// BEGIN YOUR CODE
		task04();
		// END YOUR CODE
		emf.close();
  ```

If you experience out of memory errors, you can use the following command in terminal to kill all java processes:
```
killall java
```

**Task 01** Your first task is to locate and download JPA 2.1 specification (JSR 338). It is a PDF file. 
   
**Task 02** Try to run cz.fi.muni.pa165.MainJavaSe from your IDE. It runs method task04(). You should get runtime exception saying that it is expected you have 2 Category entities stored in the database.

**Task 03** Add configuration property to persistence.xml so that Hibernate formats SQL as it outputs it into the console.  See [Hibernate ORM User Guide - SQL statement logging](https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#configurations-logging). Also add the following logger into logback.xml:

```
    <logger name="org.hibernate.SQL" level="DEBUG"/>
``` 

Rerun **Task 02** to confirm that you can now see the SQL.  You should see something like this in console:
```
 06:17:16 DEBUG SQL:109 - 
    create table Category (
        id bigint generated by default as identity,
        name varchar(255) not null,
        primary key (id)
    )
```


**Task04** Implement everything specified in TODO comments in task04() method. If you do everything correctly, you will see the following output "Succesfully found Electronics and Musical!" after you run the Main Method. If not, you should debug your solution and find out why it doesn't work.

**Task05** This task requires you to work with a detached entity. Implement the task05() according the comments in there.

**Task06**  Parts of the method are commented out, because the implementation of entity Product is not complete yet. Work according to the TODO in comments. Do not forget to solve 'Additional task' :-) 

**Task08** This task requires you to correctly implement equals and hashcode methods of Product entity. Note that you should use business equivalence. Look into the method comments for more instructions. 

**Task 09** Quiz. You can check your answers for this quiz in file answ-s1.md 
 1. What is the main configuration file for JPA in your application?
 2. Where is the following text used and what is the effect of it (use Hibernate dev guide to find answer)? "hibernate.format_sql"
 3. What is hibernate.hbm2ddl.auto property in persistence.xml file?

